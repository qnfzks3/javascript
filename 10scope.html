<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>자바스크립트 스코프 </title>
</head>
<body>
    <h1>자바스크립트 scope</h1>
    <h2>개요</h2>
    <p>변수가 사용될 수 있는 범위를 scope라고 함</p>
    <p>grobal scope : 선언된 변수는 어느 곳에서든지 접근 가능 </p>
    <p>local scope : 선언된 변수는 선언된 영역에서만 접근 가능  </p>
    <p>function scope : 함수에 선언된 변수는 함수 안에서만 접근 가능 </p>

    <script>
        var a='123'; //전역 scope 이기 때문에 어디서든 호출 가능
        {//코드블록
            document.write(a,'<br>');

        }
        {//코드블록
            document.write(a,'<br>');
        }
        let b=()=>document.write(a,'<br>');
        b();
    </script>
    <script>
        var c='456'; //전역 scope
        {//코드블록
            document.write(c,'<br>');
        }
        {//코드블록
            document.write(c,'<br>');
        }
    </script>
    <script>
        {//코드블록
            let d=`789`;
            document.write(d,'<br>');
        }
        {
            //document.write(d,'<br>');
            //d 변수는 지역 scope으로 선언 했기 때문에 이 블록에서는 호출이 불가능하다.

        }
    </script>

    <h2>호이스팅 - hoisting</h2>
    <p>변수나 함수를 어디서 어떻게 선언하더라도 항상 컨텍스트내 최상위로 끌고 올라온 뒤
        undefined를 할당해두고 코드를 실행하는 것</p>
    <p> var 로 선언한 변수나 선언형 함수를 사용하는 경우 발생함
     - var혹은 그냥 선언 function문 으로 선언하면 암묵적으로 전역 변수 처럼 사용된다.  -- 나중에 코드길어지면 어디서 선언된지 알수가없는 문제 발생 </p>
    <p> 따라서 , 변수선언시 let을 사용하고 , 화살표 함수 선언을 이용하면 호이스팅 문제를 막을 수 있음</p>

    <script>
        var e=undefined;  // 변수는 선언했지만 값은 모르겠다. 이게 자바에선 var 로 하면 안써도 자동 선언되어진다.
        {//코드블록
            var e=`321`;    //다른 블록에서 선언이 되었는데. 아래 블록에서 사용 가능하다-호이스트라한다.
            document.write(e,'<br>');
        }
        {
            document.write(e,'<br>');
            //

        }
    </script>
    <script>
        function sayHello(){
            document.write(`Hello, World<br>`)
        }
        sayHello();
    </script>
    <script>
        sayHello2();  // 함수가 undefined로 자동 선언 되어졌기 때문에 먼져 올려서 사용도 가능하다.
        function sayHello2(){
            document.write(`Hello, HOISTING!!<br>`)
        }
    </script>
    <script>
        //sayHello3();
        let sayHello3 =() => {
            document.write(`Hello, arrow function!!<br>`);
        }//보통은 이렇게 화살표로 많이 씀

        sayHello3();

    </script>
    <script>
        /*이렇게 블럭만 다르게 써서 변수 사용*/
        let f=1;
        let g=2;
        {
            let f=3;
            {
                // document.write(f,'<br>');   에러 발생- 블록 안에 let으로 f가 선언이 안되어있음 위에 선언된 let은 다른 블럭에 적용안된다.
                let f=4;
                document.write(f,'<br>');
                document.write(g,'<br>');
            }
            document.write(f,'<br>');
            document.write(g,'<br>');
        }

    </script>


</body>
</html>